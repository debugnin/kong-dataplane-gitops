deployment:
  kong:
    enabled: true

image:
  repository: kong/kong-gateway
  tag: "3.6"

env:
  role: data_plane
  database: "off"
  cluster_control_plane: "control-plane.kong.svc.cluster.local:8005"
  cluster_cert: /etc/secrets/kong-cluster-cert/tls.crt
  cluster_cert_key: /etc/secrets/kong-cluster-cert/tls.key
  cluster_telemetry_endpoint: "control-plane.kong.svc.cluster.local:8006"
  proxy_listen: "0.0.0.0:8000, 0.0.0.0:8443 ssl"
  admin_listen: "off"
  status_listen: "0.0.0.0:8100"

secretVolumes:
- kong-cluster-cert

proxy:
  enabled: true
  type: LoadBalancer
  annotations:
    service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
    service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled: "true"

admin:
  enabled: false

resources:
  limits:
    cpu: 1000m
    memory: 2Gi
  requests:
    cpu: 500m
    memory: 1Gi

autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70